(self.webpackChunkdoc_ops=self.webpackChunkdoc_ops||[]).push([[2675],{8878:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var a=t(2122),i=t(9756),r=(t(7294),t(3905)),l=["components"],o={slug:"new-release-v0.7.6",title:"New Release v0.7.6",author:"Luca Moser",author_title:"Senior Software Engineer @ IOTA Foundation",author_url:"https://github.com/luca-moser",author_image_url:"https://images4.bamboohr.com/86711/photos/85-4-4.jpg?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9pbWFnZXM0LmJhbWJvb2hyLmNvbS84NjcxMS8qIiwiQ29uZGl0aW9uIjp7IkRhdGVHcmVhdGVyVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNjMyMzEzNjUxfSwiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE2MzQ5MDU2NjF9fX1dfQ__&Signature=hFmmIsMq6ixckr-MdEq-GF5sZ1kZHGl0mgpZLd3IpYznswOq9xkiNHeQk56eqZgHteIXrvvF48MOJDw~t2-5W~4gUjdXz638SShuCyUfuqEwAz8Ms68h1dloNwL7wfcN4X4TVb75u-aBcZcVguQOAL-KBj-0UUT9lJrUjfm6njSVH~ir3KdPQmFrH52UXSRBnOvjpYfKJ-2ep-izZpkWvgEDB~nOQ-ztB5WtLRxaV4EgxT8HW5O4rwDlL0N7ZLrjs5OvSJjgwvYvhSwAVIrEaiqfUY8OPVnawzCRDZ1LYSPvWWWsBjJOlNbXy6JUsBRNzY0ncKFxKZkHTPtxty1I3g__&Key-Pair-Id=APKAIZ7QQNDH4DJY7K4Q",tags:["release"]},s="GoShimmer v0.7.6",d={permalink:"/blog/new-release-v0.7.6",source:"@site/blog/2021-09-23_new-release-v0.7.6.md",title:"New Release v0.7.6",description:"This release does not include changes to the consensus mechanism and still uses FPC+FCoB.",date:"2021-09-23T00:00:00.000Z",formattedDate:"September 23, 2021",tags:[{label:"release",permalink:"/blog/tags/release"}],readingTime:3.58,truncated:!1,nextItem:{title:"Welcome \ud83d\udc4b",permalink:"/blog/welcome"}},p=[],m={toc:p};function u(e){var n=e.components,t=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This release does ",(0,r.kt)("strong",{parentName:"p"},"not")," include changes to the consensus mechanism and still uses FPC+FCoB."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This is a ",(0,r.kt)("strong",{parentName:"p"},"breaking")," maintenance release. We urge community node operators to re-apply their config changes on\ntop of ",(0,r.kt)("inlineCode",{parentName:"p"},"config.default.json")," as many config keys have changed."),(0,r.kt)("p",{parentName:"div"},"Most importantly, the node's identity seed is now defined via ",(0,r.kt)("inlineCode",{parentName:"p"},"node.seed")," (previously ",(0,r.kt)("inlineCode",{parentName:"p"},"autopeering.seed"),"). The node will\nnow store the private key derived from the seed per default under a separate ",(0,r.kt)("inlineCode",{parentName:"p"},"peerdb")," database which ",(0,r.kt)("strong",{parentName:"p"},"must not")," be shared.\nIf the node is started with a ",(0,r.kt)("inlineCode",{parentName:"p"},"node.seed")," different to what an existing private key in a ",(0,r.kt)("inlineCode",{parentName:"p"},"peerdb")," contains, the node panics;\nif you want to automatically override the already stored private key, use ",(0,r.kt)("inlineCode",{parentName:"p"},"node.overwriteStoredSeed=true"),"."))),(0,r.kt)("p",null,"We have also created a more streamlined deployment for our infrastructure which means that IF provided endpoints have changed:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Service"),(0,r.kt)("th",{parentName:"tr",align:null},"Old"),(0,r.kt)("th",{parentName:"tr",align:null},"New"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Analysis Server"),(0,r.kt)("td",{parentName:"tr",align:null},"ressims.iota.cafe:21888"),(0,r.kt)("td",{parentName:"tr",align:null},"analysisentry-01.devnet.shimmer.iota.cafe:21888")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"IOTA 2.0 DevNet Analyzer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"http://ressims.iota.cafe:28080"},"http://ressims.iota.cafe:28080")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"http://analysisentry-01.devnet.shimmer.iota.cafe:28080"},"http://analysisentry-01.devnet.shimmer.iota.cafe:28080"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},'Autopeering Entry Node "2PV5487..."'),(0,r.kt)("td",{parentName:"tr",align:null},"[identity]","@ressims.iota.cafe:15626"),(0,r.kt)("td",{parentName:"tr",align:null},"[identity]","@analysisentry-01.devnet.shimmer.iota.cafe:15626")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"LogStash Remote Log"),(0,r.kt)("td",{parentName:"tr",align:null},"ressims.iota.cafe:5213"),(0,r.kt)("td",{parentName:"tr",align:null},"metrics-01.devnet.shimmer.iota.cafe:5213")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Daily Database"),(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://dbfiles-goshimmer.s3.eu-central-1.amazonaws.com/dbs/nectar/automated/latest-db.tgz"},"https://dbfiles-goshimmer.s3.eu-central-1.amazonaws.com/dbs/nectar/automated/latest-db.tgz"))))),(0,r.kt)("p",null,"Other changes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Refactors codebase, mainly:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Usage of ",(0,r.kt)("inlineCode",{parentName:"li"},"time.Duration")," instead of numeric types for time parameters/config options variables etc."),(0,r.kt)("li",{parentName:"ul"},"Normalization of all plugin names to camel case and without spaces"),(0,r.kt)("li",{parentName:"ul"},"Extracts some code from the ",(0,r.kt)("inlineCode",{parentName:"li"},"MessageLayer")," plugin into a new ",(0,r.kt)("inlineCode",{parentName:"li"},"Consensus")," plugin"),(0,r.kt)("li",{parentName:"ul"},"Use of dependency injection to populate plugin dependencies via ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/uber-go/dig"},"https://github.com/uber-go/dig")))),(0,r.kt)("li",{parentName:"ul"},"Adds CI workflows to use GitHub environments to deploy ",(0,r.kt)("inlineCode",{parentName:"li"},"develop")," branch changes and releases"),(0,r.kt)("li",{parentName:"ul"},"Adds a check to see whether during the GoShimmer docker image build, the snapshot file should be downloaded"),(0,r.kt)("li",{parentName:"ul"},"Adds a new plugin ",(0,r.kt)("inlineCode",{parentName:"li"},"Peer")," which stores the node's identity private key in a separate database"),(0,r.kt)("li",{parentName:"ul"},"Adds a broadcast plugin by community member @arne-fuchs simply providing a raw TCP stream of txs"),(0,r.kt)("li",{parentName:"ul"},"Adds a lock to prevent multiple active instances of the CLI wallet"),(0,r.kt)("li",{parentName:"ul"},"Adds improvements to the spammer precision"),(0,r.kt)("li",{parentName:"ul"},"Adds timestamp filter"),(0,r.kt)("li",{parentName:"ul"},"Fixes a bug where the ",(0,r.kt)("inlineCode",{parentName:"li"},"TxInfo")," object passed to the mana booking could have a wrong ",(0,r.kt)("inlineCode",{parentName:"li"},"totalAmount")),(0,r.kt)("li",{parentName:"ul"},"Refactors the ",(0,r.kt)("inlineCode",{parentName:"li"},"./tools/docker-network")," to leverage docker profiles"),(0,r.kt)("li",{parentName:"ul"},"Updates frontend dependencies"),(0,r.kt)("li",{parentName:"ul"},"Updates ",(0,r.kt)("inlineCode",{parentName:"li"},"config.default.json")," to use our new infrastructure")),(0,r.kt)("p",null,"Plugin names have been normalized, so please make sure to adapt your custom config too:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Analysis-Dashboard")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"AnalysisDashboard")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Analysis-Server")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"AnalysisServer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Analysis-Client")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"AnalysisClient")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Autopeering")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"AutoPeering")," (no effect)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Graceful Shutdown")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"GracefulShutdown")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Manualpeering")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"ManualPeering")," (no effect)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PoW")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"POW")," (no effect)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI autopeering Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIAutopeeringEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI data Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIDataEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI DRNG Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIDRNGEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI faucet Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIFaucetEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI healthz Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIHealthzEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI info Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIInfoEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI ledgerstate Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPILedgerstateEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI Mana Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIManaEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI message Endpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIMessageEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"snapshot")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"Snapshot")," (no effect)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI tools Endpoint")," (deleted) -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIToolsDRNGEndpoint")," & ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIToolsMessageEndpoint")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"WebAPI WeightProvider Endpoint")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"WebAPIWeightProviderEndpoint"))),(0,r.kt)("p",null,"Config key changes ",(0,r.kt)("inlineCode",{parentName:"p"},"config.default.json"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -1,7 +1,7 @@\n {\n   "analysis": {\n     "client": {\n-      "serverAddress": "ressims.iota.cafe:21888"\n+      "serverAddress": "analysisentry-01.devnet.shimmer.iota.cafe:21888"\n     },\n     "server": {\n       "bindAddress": "0.0.0.0:16178"\n@@ -11,17 +11,17 @@\n       "dev": false\n     }\n   },\n-  "autopeering": {\n+  "autoPeering": {\n     "entryNodes": [\n-      "2PV5487xMw5rasGBXXWeqSi4hLz7r19YBt8Y1TGAsQbj@ressims.iota.cafe:15626",\n+      "2PV5487xMw5rasGBXXWeqSi4hLz7r19YBt8Y1TGAsQbj@analysisentry-01.devnet.shimmer.iota.cafe:15626",\n       "5EDH4uY78EA6wrBkHHAVBWBMDt7EcksRq6pjzipoW15B@entry-devnet.tanglebay.com:14646"\n     ],\n-    "port": 14626\n+    "bindAddress": "0.0.0.0:14626"\n   },\n   "dashboard": {\n     "bindAddress": "127.0.0.1:8081",\n     "dev": false,\n-    "basic_auth": {\n+    "basicAuth": {\n       "enabled": false,\n       "username": "goshimmer",\n       "password": "goshimmer"\n@@ -44,7 +44,7 @@\n         "64wCsTZpmKjRVHtBKXiFojw7uw3GszumfvC4kHdWsHga"\n       ]\n     },\n-    "xteam": {\n+    "xTeam": {\n       "instanceId": 1339,\n       "threshold": 4,\n       "distributedPubKey": "",\n@@ -69,10 +69,7 @@\n     "bindAddress": "0.0.0.0:10895"\n   },\n   "gossip": {\n-    "port": 14666,\n-    "tipsBroadcaster": {\n-      "interval": "10s"\n-    }\n+    "bindAddress": "0.0.0.0:14666"\n   },\n   "logger": {\n     "level": "info",\n@@ -85,7 +82,7 @@\n     ],\n     "disableEvents": true,\n     "remotelog": {\n-      "serverAddress": "ressims.iota.cafe:5213"\n+      "serverAddress": "metrics-01.devnet.shimmer.iota.cafe:5213"\n     }\n   },\n   "metrics": {\n@@ -103,6 +100,7 @@\n     "externalAddress": "auto"\n   },\n   "node": {\n+    "seed": "",\n+    "peerDBDirectory": "peerdb",\n     "disablePlugins": [],\n     "enablePlugins": []\n   },\n@@ -110,7 +108,6 @@\n     "difficulty": 22,\n     "numThreads": 1,\n     "timeout": "1m"\n-\n   },\n   "profiling": {\n     "bindAddress": "127.0.0.1:6061"\n@@ -120,13 +117,16 @@\n   },\n   "webapi": {\n     "bindAddress": "127.0.0.1:8080",\n-    "basic_auth": {\n+    "basicAuth": {\n       "enabled": false,\n       "username": "goshimmer",\n       "password": "goshimmer"\n     }\n   },\n+  "broadcast": {\n+    "bindAddress": "127.0.0.1:5050"\n+  },\n   "networkdelay": {\n     "originPublicKey": "9DB3j9cWYSuEEtkvanrzqkzCQMdH1FGv3TawJdVbDxkd"\n   }\n')))}u.isMDXComponent=!0},3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return c}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=d(t),c=i,k=u["".concat(s,".").concat(c)]||u[c]||m[c]||r;return t?a.createElement(k,l(l({ref:n},p),{},{components:t})):a.createElement(k,l({ref:n},p))}));function c(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=u;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var d=2;d<r;d++)l[d]=t[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);